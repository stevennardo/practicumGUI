{"version":3,"sources":["js/newContact.js"],"names":["createNew","document","getElementById","onclick","console","log","linkedString","value","linkedIDs","idString","includes","undefined","dataSet","fetchData","split","link","data","name","push","id","join","err","message","contact","newID","number","email","address","city","state","zip","bday","linked","sendContact","requestURL","sendRequest","XMLHttpRequest","open","e","onload","status","response","appendChild","createTextNode","send","Math","random","toString","substr"],"mappings":"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","file":"newContact.603c44d4.js","sourceRoot":"..","sourcesContent":["var createNew = document.getElementById('create');\n\ncreateNew.onclick = function () {\n\n    console.log(\"NEW CONTACT SUBMIT\");\n\n    var linkedString = document.getElementById('linked').value; //string of names separated by commas\n    var linkedIDs; //array of IDs\n    var idString;//string of IDs delimited by spaces\n    \n    if(linkedString.includes(\",\") !== undefined)\n    {\n        var dataSet = fetchData();\n        linkedString = linkedString.split(\",\");\n        \n        for (var link in linkedString)\n        {\n            for (var data in dataSet)\n            {\n                if (data.name === link)\n                {\n                    linkedIDs.push(data.id);\n                }\n            }\n        }\n    }\n    else if(linkedString !== \"\" && linkedString.includes(\",\") === undefined)\n    {\n        for (var data in dataSet)\n            {\n                if (data.name === linkedString)\n                {\n                    linkedIDs = data.id;\n                }\n            }\n    }\n    \n    console.log(\"LINKED IDS: {\" + linkedIDs + \"}\");\n\n    try {\n        if (linkedIDs.join(\" \") === undefined)\n        {\n            idString = linkedIDs;\n        } else\n        {\n            idString = linkedIDs.join(\" \");\n        }\n    } catch (err) {\n        console.log(err.message);\n        idString = \"\";\n    }\n\n    var contact = {\n        id: newID(),\n        name: document.getElementById('name').value,\n        number: document.getElementById('number').value,\n        email: document.getElementById('email').value,\n        address: document.getElementById('address').value,\n        city: document.getElementById('city').value,\n        state: document.getElementById('state').value,\n        zip: document.getElementById('zip').value,\n        bday: document.getElementById('bday').value,\n        linked: idString\n    };\n\n    sendContact(contact);\n//make API call to send data to the db\n};\n\nfunction sendContact(contact)\n{\n    //******* DUMMY URL THIS CODE WILL NOT WORK\n    //awaiting legitimate GCP URL\n    var requestURL = \"http://localhost:8080/create/?\"\n            + \"id=\" + contact.id\n            + \"&name=\" + contact.name\n            + \"&number=\" + contact.number\n            + \"&email=\" + contact.email\n            + \"&address=\" + contact.address\n            + \"&city=\" + contact.city\n            + \"&state=\" + contact.state\n            + \"&zip=\" + contact.zip\n            + \"&bday=\" + contact.bday\n            + \"&linked=\" + contact.linked\n            ;\n\n\n    //send API call of the user (query)\n    var sendRequest = new XMLHttpRequest();\n\n    // Open a new connection, using the GET request on the URL endpoint\n    console.log(\"Before Open\");\n    try {\n        sendRequest.open('GET', requestURL, true);\n        console.log(\"Opened\");\n    } catch (e)\n    {\n        console.log(e);\n    }\n\n    console.log(\"Before On Load\");\n    sendRequest.onload = function () {\n        console.log(\"On Load\");\n\n        if (sendRequest.status >= 200 && sendRequest.status < 400)\n        {\n            console.log(this.response);\n\n            document.getElementById('confirm').appendChild(document.createTextNode(\"Contact Created\"));\n        } else {\n            console.log(\"Request Error: newContact.js\");\n        }\n\n    };\n    sendRequest.send();\n}\n\nfunction newID()\n{\n    return '_' + Math.random().toString(36).substr(2, 9);\n}"]}